# Flash Attention 커널 벤치마크 결과

## 테스트 환경
```
GPU: [여기에 GPU 이름 입력, 예: Adreno 740]
Driver: [드라이버 버전]
Model: [테스트에 사용한 모델]
Batch Size: [배치 크기]
Sequence Length: [시퀀스 길이]
```

---

## 결과 기록표

### Prefill 커널 (flash_attn_f32_f16)

| 조합 | BLOCK_M | BLOCK_N | DV_TILE | 실행시간 (ms) | 향상률 | 메모 |
|------|---------|---------|---------|--------------|--------|------|
| A (기본) | 32 | 32 | 32 | | - | 기준 |
| B | 32 | 32 | 64 | | | |
| C | 32 | 64 | 32 | | | |
| D | 32 | 64 | 64 | | | |
| E | 64 | 32 | 32 | | | |
| F | 64 | 64 | 64 | | | |
| G (baseline) | 32 | 32 | 128 | | | spill 테스트 |
| H | 32 | 16 | 16 | | | |
| 원본 | - | - | - | | | DV 타일링 전 |

**향상률 계산**: `(기준 시간 - 현재 시간) / 기준 시간 × 100%`

---

### Decode 커널 (flash_attn_f32_f16_q1)

| 조합 | 실행시간 (ms) | 메모 |
|------|--------------|------|
| A (기본) | | |
| B | | |
| ... | | |

---

## 전체 Inference 시간

| 조합 | 전체 시간 (ms) | Flash Attn 비율 | 메모 |
|------|---------------|----------------|------|
| A (기본) | | | |
| B | | | |
| ... | | | |

---

## 상세 분석

### 최적 조합
```
조합 [?]: BLOCK_M=[?], BLOCK_N=[?], DV_TILE=[?]
이유: [왜 가장 빠른지 분석]
```

### 관찰 사항

#### 1. DV_TILE 효과
```
DV_TILE=32: ???ms
DV_TILE=64: ???ms
DV_TILE=128: ???ms

결론: [DV 타일링이 레지스터 spill 제거에 효과적인지]
```

#### 2. BLOCK_N 효과
```
BLOCK_N=16: ???ms
BLOCK_N=32: ???ms
BLOCK_N=64: ???ms

결론: [더 큰 타일이 barrier overhead를 줄였는지]
```

#### 3. BLOCK_M 효과
```
BLOCK_M=32: ???ms
BLOCK_M=64: ???ms

결론: [occupancy vs 메모리 재사용 trade-off]
```

---

## 에러/문제 기록

### 컴파일 에러
```
조합 [?]:
에러 내용: [여기]
해결 방법: [여기]
```

### 실행 에러
```
조합 [?]:
증상: [여기]
원인 추정: [여기]
```

---

## 프로파일링 데이터 (상세)

### 조합 A
```
[cl_profiling.csv에서 해당 조합의 데이터 복사]
```

### 조합 B
```
[데이터]
```

---

## 최종 권장 사항

```
Production에 적용할 최종 설정:

BLOCK_M = [?]
BLOCK_N = [?]
DV_TILE = [?]

기대 성능 향상: [?]%
```

